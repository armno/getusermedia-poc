<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>getUserMedia</title>
	<link rel="stylesheet" href="/css/main.css">
	<link rel="icon" href="favicon.png">

<style>
  input:checked + svg {
  	display: block;
  }
</style>
</head>
<body class="antialiased">
	<div class="container max-w-lg mx-auto">
		<h1 class="text-3xl font-bold text-center my-4">Video Recording PoC</h1>

		<div class="text-center mt-6 mb-6">
			<div class="mb-2 flex items-center justify-center">
				<label for="enable-video" class="text-xl inline-block mr-2 cursor-pointer">Enable video</label>
				<div class="bg-white border-2 rounded border-gray-400  w-5 h-5 flex flex-shrink-0 justify-center items-center mr-2 focus-within:border-blue-500">
					<input type="checkbox" name="enable-video" id="enable-video" class="opacity-0 absolute" checked>
					<svg class="fill-current hidden w-3 h-3 text-green-700 pointer-events-none" viewBox="0 0 20 20">
						<path d="M0 11l2-2 5 5L18 3l2 2L7 18z"/>
					</svg>
				</div>
			</div>

			<button id="start-button" class="bg-gray-900 text-white font-semibold px-4 py-2 rounded-md hover:bg-gray-600">Start camera + microphone</button>
			<button id="stop-button" class="bg-red-500 text-white font-semibold px-4 py-2 rounded-md hover:bg-gray-600 hidden">Stop</button>

		</div>

		<div id="music" class="mb-4 hidden justify-center">
			<audio id="music-file" src="audio/upbeat.mp3" controls></audio>
		</div>
		<div class="relative w-96 h-96 mx-auto bg-black">
			<video id="inputVideo" autoplay muted playsinline class="absolute top-0 bottom-0 left-0 right-0"></video>

			<button id="record" class="absolute z-10 bottom-8 left-1/2 bg-white px-4 py-2 -ml-8 rounded-full w-16 h-16"></button>
		</div>
		<p class="mt-4 text-center text-sm">Click on the round button to start recording</p>


		<div id="output" class="relative w-96 h-96 mx-auto my-12 hidden">
			<div class="flex justify-between items-center mb-2">
				<h2 class="text-2xl">Recorded video/audio</h2>
			</div>
			<video id="recorded-video" controls playsinline class="hidden"></video>
			<audio id="recorded-voice" controls class="hidden"></audio>
		</div>

		<div id="error-message" class="text-center"></div>

	</div>
	<script src="js/main.js"></script>
</body>
</html>
